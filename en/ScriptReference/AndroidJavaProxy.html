<?xml version="1.0" encoding="utf-8"?><!DOCTYPE html><html lang="en" class="no-js"><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><title>Unity - Scripting API: AndroidJavaProxy</title><meta name="description" content="Develop once, publish everywhere! Unity is the ultimate tool for video game development, architectural visualizations, and interactive media installations - publish to the web, Windows, OS X, Wii, Xbox 360, and iPhone with many more platforms to come." /><meta name="author" content="Unity Technologies" /><link rel="shortcut icon" href="../StaticFiles/images/favicons/favicon.ico" /><link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png" /><link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png" /><link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png" /><link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png" /><link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png" /><script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-2854981-1']);
  _gaq.push(['_setDomainName', 'unity3d.com']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script><script type="text/javascript" src="../StaticFiles/js/jquery.js">//jquery</script><script type="text/javascript" src="../StaticFiles/classList.js">//core</script><script type="text/javascript" src="../StaticFiles/js/core.js">//core</script><script type="text/javascript" src="../StaticFiles/js/suggest.js">//suggest</script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css" /><link rel="stylesheet" type="text/css" href="../StaticFiles/css/suggest.css" /><!--[if lte IE 8]><link rel="stylesheet" type="text/css" href="../StaticFiles/css/ie.css" /><![endif]--><!--[if lte IE 7]><link rel="stylesheet" type="text/css" href="../StaticFiles/css/ie7.css" /><![endif]--></head><body><div class="header-wrapper"><div id="header" class="header"><div class="content"><div class="logo"><a href="http://docs.unity3d.com" /></div><ul class="docs-menu"><li><a href="http://docs.unity3d.com">Overview</a></li><li><a href="../Manual/index.html">Manual</a></li><li><a href="../ScriptReference/index.html" class="selected">Scripting API</a></li></ul><div class="more-menu"><div class="box"><div class="label"><a href="http://unity3d.com/learn">Learn</a></div><ul style="display:none;"><li><a href="http://unity3d.com/learn/tutorials/modules">Tutorials</a></li><li><a href="http://unity3d.com/learn/live-training/">Live Training</a></li><li><a href="http://unity3d.com/learn/premium-support">Premium Support</a></li></ul></div><div class="box"><div class="label"><a href="http://unity3d.com/community">Community</a></div><ul style="display:none;"><li><a href="http://forum.unity3d.com/">Forums</a></li><li><a href="http://answers.unity3d.com/">Answers</a></li><li><a href="http://feedback.unity3d.com/">Feedback</a></li><li><a href="http://issuetracker.unity3d.com/">Issue Tracker</a></li></ul></div></div><div class="search"><form action="30_search.html" method="get" class="apisearch"><input type="text" name="q" placeholder="Search" autosave="Unity Reference" results="5" class="sbox field" id="q" /><input type="submit" class="submit" /></form></div></div></div><div class="toolbar"><div class="content"><div class="script-lang"><h4>Script language:</h4><ul><li class="selected" data-lang="JS">JS</li><li data-lang="CS">C#</li><li data-lang="Boo">Boo</li></ul><div id="script-lang-dialog" class="dialog hide"><div class="dialog-header clear"><h5>Script language</h5><div class="close"> </div></div><p>Select your preferred scripting language. All code snippets will be displayed in this language.</p></div></div></div><a class="suggest">Suggest a change</a></div></div><div id="master-wrapper" class="master-wrapper clear"><div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="ruler-t"> </div><div class="ruler-m"> </div><div class="ruler-b"> </div><div class="content"><div class="sidebar-menu"><h2>Scripting API</h2><div class="toc"> </div></div><p><a href="40_history.html" class="cl">History</a></p></div></div></div><div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content"><div class="section"><div class="mb20 clear"><h1 class="heading inherit left">AndroidJavaProxy</h1><div class="clear"> </div><p class="cl mb0 left mr10">Namespace: UnityEngine</p></div><div class="subsection"><div class="signature"><div class="signature-JS sig-block"> </div><div class="signature-CS sig-block"> </div><div class="signature-Boo sig-block"> </div></div></div><div class="subsection"><h2>Description</h2><p>This class can be used to implement any java interface. Any java vm method invocation matching the interface on the proxy object will automatically be passed to the c# implementation.</p></div><div class="subsection">
      <pre class="codeExampleJS">// Opens an android date picker dialog and grabs the result using a callback.<p class="basic" />// Dummy class to hold date - makes it easier to modify it in the callback 
class SelectedDate {
	static var date : Date = System.DateTime.Now;
}<p class="basic" />// The callback class
class DateCallback extends <a href="AndroidJavaProxy.html">AndroidJavaProxy</a> {
	function DateCallback() {
		super("android.app.DatePickerDialog$OnDateSetListener");
	}
	function onDateSet(view: <a href="AndroidJavaObject.html">AndroidJavaObject</a>, year: int, monthOfYear: int, dayOfMonth: int){
		SelectedDate.date = new Date(year, monthOfYear + 1, dayOfMonth);
	}
}<p class="basic" />function OnGUI () {
	if (<a href="GUI.Button.html">GUI.Button</a> (<a href="Rect.html">Rect</a> (10,10,450,100), String.Format("{0:yyyy-MM-dd}", SelectedDate.date))) {
		var activity = new <a href="AndroidJavaClass.html">AndroidJavaClass</a>("com.unity3d.player.UnityPlayer").GetStatic.&lt;AndroidJavaObject&gt;("currentActivity");
		activity.Call("runOnUiThread", new <a href="AndroidJavaRunnable.html">AndroidJavaRunnable</a>(function(){
			new <a href="AndroidJavaObject.html">AndroidJavaObject</a>("android.app.DatePickerDialog", activity, new DateCallback(), 
				SelectedDate.date.Year, SelectedDate.date.Month - 1, SelectedDate.date.Day).Call("show");
		}));
	}
}
</pre>
      <pre class="codeExampleCS">using UnityEngine;
using System.Collections;

public class SelectedDate : <a href="MonoBehaviour.html">MonoBehaviour</a> {
    public static Date date = System.DateTime.Now;
}
public class DateCallback : <a href="MonoBehaviour.html">MonoBehaviour</a> {
    new ("android.app.DatePickerDialog$OnDateSetListener");
    void onDateSet(<a href="AndroidJavaObject.html">AndroidJavaObject</a> view, int year, int monthOfYear, int dayOfMonth) {
        SelectedDate.date = new Date(year, monthOfYear + 1, dayOfMonth);
    }
}
public class ExampleClass : <a href="MonoBehaviour.html">MonoBehaviour</a> {
    void OnGUI() {
        if (<a href="GUI.Button.html">GUI.Button</a>(new <a href="Rect.html">Rect</a>(10, 10, 450, 100), String.Format("{0:yyyy-MM-dd}", SelectedDate.date))) {
            <a href="AndroidJavaObject.html">AndroidJavaObject</a> activity = new <a href="AndroidJavaClass.html">AndroidJavaClass</a>("com.unity3d.player.UnityPlayer").GetStatic&lt;AndroidJavaObject&gt;("currentActivity");
            activity.Call("runOnUiThread", <a href="AndroidJavaRunnable.html">AndroidJavaRunnable</a>(            new <a href="AndroidJavaObject.html">AndroidJavaObject</a>("android.app.DatePickerDialog", activity, new DateCallback(), SelectedDate.date.Year, SelectedDate.date.Month - 1, SelectedDate.date.Day).Call("show");
));
        }
    }
}
</pre>
      <pre class="codeExampleBoo">import UnityEngine
import System.Collections

public class SelectedDate:

	public static date as Date = System.DateTime.Now

public class DateCallback(<a href="AndroidJavaProxy.html">AndroidJavaProxy</a>):

	public def constructor():
		super('android.app.DatePickerDialog$OnDateSetListener')

	def onDateSet(view as <a href="AndroidJavaObject.html">AndroidJavaObject</a>, year as int, monthOfYear as int, dayOfMonth as int) as void:
		SelectedDate.date = Date(year, (monthOfYear + 1), dayOfMonth)

public class ExampleClass(<a href="MonoBehaviour.html">MonoBehaviour</a>):

	def OnGUI() as void:
		if <a href="GUI.Button.html">GUI.Button</a>(<a href="Rect.html">Rect</a>(10, 10, 450, 100), String.Format('{0:yyyy-MM-dd}', SelectedDate.date)):
			activity as <a href="AndroidJavaObject.html">AndroidJavaObject</a> = <a href="AndroidJavaClass.html">AndroidJavaClass</a>('com.unity3d.player.UnityPlayer').GetStatic[of <a href="AndroidJavaObject.html">AndroidJavaObject</a>]('currentActivity')
			activity.Call('runOnUiThread', <a href="AndroidJavaRunnable.html">AndroidJavaRunnable</a>({ <a href="AndroidJavaObject.html">AndroidJavaObject</a>('android.app.DatePickerDialog', activity, DateCallback(), SelectedDate.date.Year, (SelectedDate.date.Month - 1), SelectedDate.date.Day).Call('show') }))

</pre>
    </div><div class="subsection"><h2>Variables</h2><table class="list">
    <tr><td class="lbl"><a href="AndroidJavaProxy-javaInterface.html">javaInterface</a></td><td class="desc">Java interface implemented by the proxy.</td></tr>
  </table></div><div class="subsection"><h2>Constructors</h2><table class="list">
    <tr><td class="lbl"><a href="AndroidJavaProxy-ctor.html">AndroidJavaProxy</a></td><td class="desc"></td></tr>
  </table></div><div class="subsection"><h2>Public Functions</h2><table class="list">
    <tr><td class="lbl"><a href="AndroidJavaProxy.Invoke.html">Invoke</a></td><td class="desc">Called by the java vm whenever a method is invoked on the java proxy interface. You can override this to run special code on method invokation, or you can leave the implementation as is, and leave the default behavior which is to look for c# methods matching the signature of the java method.</td></tr>
  </table></div></div></div></div></div></div><div class="footer-wrapper"><div class="footer clear"><div class="copy">Copyright © 2014 Unity Technologies</div><div class="menu"><a href="http://unity3d.com/unity">Unity</a><a href="http://unity3d.com/gallery">Gallery</a><a href="http://unity3d.com/asset-store">Asset Store</a><a href="https://store.unity3d.com">Buy</a><a href="http://unity3d.com/unity/download">Download</a></div></div></div><div class="suggestform_background"><div class="suggestform"><div class="suggestline"><div class="suggestlabel">Your name (optional):</div></div><div class="suggestline"><input id="suggest_username" type="text" /></div><div class="suggestline"><div class="suggestlabel">Your email (optional):</div></div><div class="suggestline"><input id="suggest_useremail" type="text" /></div>
	Please write your suggestion here:
	<div class="suggestline"><textarea id="suggest_body"> </textarea></div><div class="suggestline"><button id="suggest_submit">Submit</button><button id="suggest_cancel">Cancel</button></div></div></div><script type="text/javascript">
suggest_form();
</script></body></html>